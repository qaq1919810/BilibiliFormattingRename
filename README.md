# Bilibili 视频文件批量重命名工具

- 可显示请求进度，防止用户误以为程序卡死  
- 提前列出原始文件名与新文件名，用户可选择是否确认重命名  
- 支持失败重试机制，确保大部分请求能成功  

---

## 文件结构示例

```
BilibiliFormattingRename/
├─ src/
│ ├─ main.js
│ └─ ...
├─ renamed_files.log
├─ package.json
└─ README.md
```

---

## 环境要求
- Node.js >= 18  
- npm 或 yarn 包管理工具  
- Windows / Linux / macOS 均可运行

---

## 使用方法
1. 将下载好的 Bilibili 视频文件夹放在指定目录下
2. 修改 `main.js` 中的 `DOWNLOAD_DIR` 路径为你的文件夹路径：
    ```js
    const DOWNLOAD_DIR = ''
    ```
3. 运行程序：
    ```bash
    node main.js
    ```
4. 程序会：
    - 请求每个 AVID 的视频信息  
    - 显示请求进度，例如：`当前进度 3/10`  
    - 所有请求成功后，根据发布时间排序并生成新文件名列表  
    - 提示用户确认重命名：
        ```
        oldName -> newName
        是否继续？(y/1 确认, n/0 退出)
        ```
5. 用户输入 `y` 或 `1` 确认后程序执行重命名，否则退出。

---

## 文件名规则
- 序号：按视频发布时间排序，越早的序号越小  
- 时间：视频发布时间，转为人类可读格式
- 格式为index-title-(time)
---

## 注意事项
- 确保所有视频文件夹名称为 AVID，否则无法匹配  
- 若有任意一个视频信息请求失败，程序不会执行任何重命名  
- 文件夹路径不要包含中文特殊符号，避免 Node.js 路径解析错误